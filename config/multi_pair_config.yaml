# Multi-Pair Trading Configuration
# Optimized settings for each pair based on backtest results

# MetaTrader 5 Connection
mt5:
  login: 10008461854
  password: "!4TeTdZv"
  server: "MetaQuotes-Demo"
  timeout: 60000

# Trading Parameters
trading:
  # FOCUSED WINNER STRATEGY - Top 2 Performers Only!
  # XAUUSD: 33.20% return, 50% win rate
  # USDJPY M1: 15.16% return, 44.8% win rate
  pairs:
    XAUUSD:
      enabled: true
      timeframe: "H1"
      expected_return: 33.20
      win_rate: 50.0
      profit_factor: 1.84

    US30:
      enabled: false  # Disabled - poor performer (-3.64%)
      timeframe: "H1"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    US100:
      enabled: false  # Not available on MetaQuotes demo server
      timeframe: "H1"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    US500:
      enabled: false  # Disabled - poor performance
      timeframe: "H1"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    USDJPY:
      enabled: false  # DISABLED - losing money with low drawdown strategy
      timeframe: "M5"  # M5 for better trade quality (was M1)
      expected_return: 15.16
      win_rate: 44.8
      profit_factor: 1.35

    EURUSD:
      enabled: false  # Disabled - DISASTER (-11.76%)
      timeframe: "M1"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    AUDUSD:
      enabled: false  # Disabled - poor performer (-3.11%)
      timeframe: "M5"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    GBPUSD:
      enabled: false  # Disabled - DISASTER (-11.37%)
      timeframe: "M1"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    USDCAD:
      enabled: false
      timeframe: "H1"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    NZDUSD:
      enabled: false
      timeframe: "M5"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    EURJPY:
      enabled: false
      timeframe: "M5"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    GBPJPY:
      enabled: false
      timeframe: "M5"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

  # Strategy Selection
  active_strategy: "trend_pullback"

  # PROP FIRM COMPLIANCE
  compliance:
    require_stop_loss: true
    news_buffer_minutes: 2
    min_hold_minutes: 2
    max_trades_per_day: 15  # Increased for multi-pair

  # Trading Hours (UTC)
  trading_hours:
    enabled: true
    start: "08:00"
    end: "16:00"

  # Position Limits - ULTRA CONSERVATIVE (low drawdown target)
  max_open_positions: 2  # Only 1 position per pair max
  max_positions_per_pair: 1  # Strict limit

# Risk Management - BALANCED (4% MAX DRAWDOWN TARGET)
risk:
  # Position Sizing - Balanced for 4% max DD with decent returns
  risk_per_trade: 0.5  # 0.5% per trade (allows ~8 consecutive losses before 4% DD)

  # Stop Loss - Moderate
  stop_loss:
    type: "atr"
    atr_multiplier: 1.2  # Balanced stops

  # Take Profit - 1:2.5 Risk/Reward (Achievable but profitable)
  take_profit:
    type: "risk_reward"
    risk_reward_ratio: 2.5  # Balanced R:R

  # NO trailing stop
  trailing_stop:
    enabled: false

  # NO break-even
  breakeven_stop:
    enabled: false

  # Daily Loss Limit - STRICT
  max_daily_loss:
    enabled: true
    percentage: 2.0  # 2% daily limit (half of max DD)

  # Total Drawdown Limit - TARGET
  max_total_drawdown:
    enabled: true
    percentage: 4.0  # 4% HARD LIMIT

  # Maximum Exposure - Conservative
  max_total_exposure: 1.0  # Max 1% of account in positions

# Strategy Parameters - Per Pair Optimization
# Conservative settings for higher win rate and lower drawdown
strategies:
  # XAUUSD Settings (H1) - Gold - BALANCED FOR LOW DD
  XAUUSD:
    timeframe: "H1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 35       # Moderately strict
    rsi_sell_threshold: 65      # Moderately strict
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 20                 # Moderate trend requirement
    risk_reward: 2.5            # Balanced target
    sl_atr_multiplier: 1.2      # Moderate stops
    min_atr: 0.6                # Moderate volatility requirement
    min_ema_distance: 0.3       # Moderate pullback
    min_confidence: 0.65        # Moderate confidence
    min_data_points: 60
    require_rsi_momentum: false

  # US30 Settings (H1) - Dow Jones - BALANCED
  US30:
    timeframe: "H1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 40
    rsi_sell_threshold: 60
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 18
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 20                 # Further relaxed
    min_ema_distance: 10        # More pullbacks
    min_confidence: 0.55
    min_data_points: 60
    require_rsi_momentum: false

  # US100 Settings (H1) - Nasdaq - CONSERVATIVE
  US100:
    timeframe: "H1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 30
    rsi_sell_threshold: 70
    use_rsi_exit: true
    atr_period: 14
    adx_period: 14
    min_adx: 25
    risk_reward: 2.0
    sl_atr_multiplier: 2.0
    min_atr: 80                 # H1 ATR for Nasdaq
    min_ema_distance: 50
    min_confidence: 0.75
    min_data_points: 60
    require_rsi_momentum: true

  # US500 Settings (H1) - S&P 500 - OPTIMIZED
  US500:
    timeframe: "H1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 35
    rsi_sell_threshold: 65
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 20
    risk_reward: 2.5
    sl_atr_multiplier: 1.5
    min_atr: 5                  # Relaxed ATR filter
    min_ema_distance: 3         # Allow more pullbacks
    min_confidence: 0.65
    min_data_points: 60
    require_rsi_momentum: true

  # USDJPY Settings (M5) - Moderate frequency - BALANCED FOR LOW DD
  USDJPY:
    timeframe: "M5"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 35      # Moderately strict
    rsi_sell_threshold: 65     # Moderately strict
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 20                # Moderate trend requirement
    risk_reward: 2.5           # Balanced target
    sl_atr_multiplier: 1.2     # Moderate stops
    min_atr: 0.05              # M5 appropriate ATR for JPY
    min_ema_distance: 0.02     # M5 appropriate distance
    min_confidence: 0.65       # Moderate confidence
    min_data_points: 60
    require_rsi_momentum: false

  # EURUSD Settings (M1) - High frequency - BALANCED
  EURUSD:
    timeframe: "M1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 40      # Widened for more signals
    rsi_sell_threshold: 60     # Widened for more signals
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 18                # Lower for more signals
    risk_reward: 2.0           # Achievable target
    sl_atr_multiplier: 1.5
    min_atr: 0.00006           # M1 appropriate ATR
    min_ema_distance: 0.00003  # M1 appropriate distance
    min_confidence: 0.55       # Lower for more volume
    min_data_points: 60
    require_rsi_momentum: false # Disabled for more signals

  # AUDUSD Settings (M5) - BALANCED
  AUDUSD:
    timeframe: "M5"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 40      # Balanced
    rsi_sell_threshold: 60     # Balanced
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 18                # Relaxed for signals
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.00015           # Balanced
    min_ema_distance: 0.00008  # Balanced
    min_confidence: 0.55       # Lower for more volume
    min_data_points: 60
    require_rsi_momentum: false

  # GBPUSD Settings (M1) - High frequency scalping
  GBPUSD:
    timeframe: "M1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 40      # Balanced for M1
    rsi_sell_threshold: 60
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 18                # Lower for more signals
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.00008           # M1 appropriate ATR
    min_ema_distance: 0.00004  # M1 appropriate distance
    min_confidence: 0.55
    min_data_points: 60
    require_rsi_momentum: false

  # USDCAD Settings (H1) - Oil correlated
  USDCAD:
    timeframe: "H1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 32
    rsi_sell_threshold: 68
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 20
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.0003
    min_ema_distance: 0.0002
    min_confidence: 0.70
    min_data_points: 60
    require_rsi_momentum: true

  # NZDUSD Settings (M5) - AGGRESSIVE
  NZDUSD:
    timeframe: "M5"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 38      # Widened from 32
    rsi_sell_threshold: 62     # Widened from 68
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 18                # Lowered from 22
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.0002            # Lowered
    min_ema_distance: 0.0001   # Lowered
    min_confidence: 0.60       # Lowered from 0.72
    min_data_points: 60
    require_rsi_momentum: false # Disabled for more signals

  # EURJPY Settings (M5) - JPY cross - AGGRESSIVE
  EURJPY:
    timeframe: "M5"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 38      # Widened for more signals
    rsi_sell_threshold: 62     # Widened for more signals
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 18                # Lowered for more signals
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.04              # Adjusted for M5 JPY
    min_ema_distance: 0.03     # Adjusted for M5 JPY
    min_confidence: 0.60       # Lowered for more signals
    min_data_points: 60
    require_rsi_momentum: false # Disabled for more signals

  # GBPJPY Settings (M5) - Most volatile JPY cross - AGGRESSIVE
  GBPJPY:
    timeframe: "M5"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 38      # Widened for more signals
    rsi_sell_threshold: 62     # Widened for more signals
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 18                # Lowered for more signals
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.06              # Adjusted for M5 GBPJPY volatility
    min_ema_distance: 0.04     # Adjusted for M5 GBPJPY
    min_confidence: 0.60       # Lowered for more signals
    min_data_points: 60
    require_rsi_momentum: false # Disabled for more signals

  # Default/Fallback settings
  trend_pullback:
    timeframe: "M5"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 32
    rsi_sell_threshold: 68
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 20
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.0003
    min_ema_distance: 0.0002
    min_confidence: 0.70
    min_data_points: 60
    require_rsi_momentum: true

# Backtesting
backtest:
  start_date: "2024-01-01"
  end_date: "2025-11-20"
  initial_balance: 10000
  commission: 0.00007

# Logging
logging:
  level: "INFO"
  log_to_file: true
  log_file: "logs/multi_pair_bot.log"
  log_trades: true
  trade_log_file: "logs/multi_pair_trades.log"

# Bot Behavior
bot:
  scan_interval: 30  # Faster scanning for multi-pair
  heartbeat_interval: 300
  auto_restart: true
  max_reconnect_attempts: 10

# Database
database:
  enabled: true
  connection_string: "mongodb://localhost:27017"
  database_name: "multi_pair_bot"

# MULTI-PAIR STRATEGY SUMMARY (8 PAIRS):
# ======================================
# PROP FIRM SETTINGS:
# - Max Daily Drawdown: 4% (limit: 5%)
# - Max Total Drawdown: 8% (limit: 10%)
# - Risk per trade: 0.5%
#
# PAIRS:
# - USDJPY (M5): Best returns +15.93%
# - EURUSD (H1): High win rate 71.4%
# - AUDUSD (M5): Stable performer
# - GBPUSD (H1): High volatility major
# - USDCAD (H1): Oil correlated
# - NZDUSD (M5): Commodity currency
# - EURJPY (M5): JPY cross
# - GBPJPY (M5): Most volatile cross
#
# Expected Combined Performance:
# - More trade opportunities across 8 pairs
# - Diversified risk across currencies
# - Mix of M5 and H1 timeframes
