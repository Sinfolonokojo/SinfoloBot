# Multi-Pair Trading Configuration
# Optimized settings for each pair based on backtest results

# MetaTrader 5 Connection
mt5:
  login: 10008461854
  password: "!4TeTdZv"
  server: "MetaQuotes-Demo"
  timeout: 60000

# Trading Parameters
trading:
  # Multi-Pair Setup - Each pair with optimal timeframe
  # Using H1 for better signal quality and lower drawdown
  pairs:
    XAUUSD:
      enabled: true
      timeframe: "H1"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    US30:
      enabled: true
      timeframe: "H1"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    US100:
      enabled: true
      timeframe: "H1"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    US500:
      enabled: true
      timeframe: "H1"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    USDJPY:
      enabled: false
      timeframe: "M5"
      expected_return: 15.93
      win_rate: 48.7
      profit_factor: 1.75

    EURUSD:
      enabled: false
      timeframe: "H1"
      expected_return: 8.55
      win_rate: 71.4
      profit_factor: 3.75

    AUDUSD:
      enabled: false
      timeframe: "M5"
      expected_return: 1.34
      win_rate: 50.0
      profit_factor: 1.48

    GBPUSD:
      enabled: false
      timeframe: "H1"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    USDCAD:
      enabled: false
      timeframe: "H1"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    NZDUSD:
      enabled: false
      timeframe: "M5"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    EURJPY:
      enabled: false
      timeframe: "M5"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

    GBPJPY:
      enabled: false
      timeframe: "M5"
      expected_return: 0.0
      win_rate: 0.0
      profit_factor: 0.0

  # Strategy Selection
  active_strategy: "trend_pullback"

  # PROP FIRM COMPLIANCE
  compliance:
    require_stop_loss: true
    news_buffer_minutes: 2
    min_hold_minutes: 2
    max_trades_per_day: 15  # Increased for multi-pair

  # Trading Hours (UTC)
  trading_hours:
    enabled: true
    start: "08:00"
    end: "16:00"

  # Position Limits - Multi-Pair (8 pairs)
  max_open_positions: 8  # Allow one per pair
  max_positions_per_pair: 1

# Risk Management - PROP FIRM SETTINGS (5% daily DD, 10% total DD)
risk:
  # Position Sizing - Conservative for prop firm compliance
  risk_per_trade: 0.9  # 0.9% per trade (accounts for spread/commission)

  # Stop Loss - MANDATORY
  stop_loss:
    type: "atr"
    atr_multiplier: 1.5

  # Take Profit - 1:2 Risk/Reward
  take_profit:
    type: "risk_reward"
    risk_reward_ratio: 2.0

  # NO trailing stop for prop firm
  trailing_stop:
    enabled: false

  # NO break-even for prop firm
  breakeven_stop:
    enabled: false

  # Daily Loss Limit - PROP FIRM CRITICAL
  max_daily_loss:
    enabled: true
    percentage: 4.0  # 4% daily (below 5% prop firm limit)

  # Total Drawdown Limit - PROP FIRM CRITICAL
  max_total_drawdown:
    enabled: true
    percentage: 8.0  # 8% total (below 10% prop firm limit)

  # Maximum Exposure - Multi-pair
  max_total_exposure: 4.0  # Max 4% of account in positions

# Strategy Parameters - Per Pair Optimization
# Conservative settings for higher win rate and lower drawdown
strategies:
  # XAUUSD Settings (H1) - Gold - CONSERVATIVE
  XAUUSD:
    timeframe: "H1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 30       # Stricter - only buy when truly oversold
    rsi_sell_threshold: 70      # Stricter - only sell when truly overbought
    use_rsi_exit: true          # Exit on RSI extremes
    atr_period: 14
    adx_period: 14
    min_adx: 25                 # Require stronger trend
    risk_reward: 2.0
    sl_atr_multiplier: 2.0      # Wider SL for less noise hits
    min_atr: 1.0                # Gold H1 ATR filter
    min_ema_distance: 0.5       # Require clear pullback
    min_confidence: 0.75        # Higher confidence required
    min_data_points: 60
    require_rsi_momentum: true  # Require RSI confirmation

  # US30 Settings (H1) - Dow Jones - CONSERVATIVE
  US30:
    timeframe: "H1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 30
    rsi_sell_threshold: 70
    use_rsi_exit: true
    atr_period: 14
    adx_period: 14
    min_adx: 25
    risk_reward: 2.0
    sl_atr_multiplier: 2.0
    min_atr: 50                 # H1 ATR for US30
    min_ema_distance: 30
    min_confidence: 0.75
    min_data_points: 60
    require_rsi_momentum: true

  # US100 Settings (H1) - Nasdaq - CONSERVATIVE
  US100:
    timeframe: "H1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 30
    rsi_sell_threshold: 70
    use_rsi_exit: true
    atr_period: 14
    adx_period: 14
    min_adx: 25
    risk_reward: 2.0
    sl_atr_multiplier: 2.0
    min_atr: 80                 # H1 ATR for Nasdaq
    min_ema_distance: 50
    min_confidence: 0.75
    min_data_points: 60
    require_rsi_momentum: true

  # US500 Settings (H1) - S&P 500 - CONSERVATIVE
  US500:
    timeframe: "H1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 30
    rsi_sell_threshold: 70
    use_rsi_exit: true
    atr_period: 14
    adx_period: 14
    min_adx: 25
    risk_reward: 2.0
    sl_atr_multiplier: 2.0
    min_atr: 10                 # H1 ATR for S&P
    min_ema_distance: 6
    min_confidence: 0.75
    min_data_points: 60
    require_rsi_momentum: true

  # USDJPY Settings (M5) - Best performer - AGGRESSIVE
  USDJPY:
    timeframe: "M5"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 38      # Widened from 32
    rsi_sell_threshold: 62     # Widened from 68
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 18                # Lowered from 20
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.04              # Lowered from 0.05
    min_ema_distance: 0.02     # Lowered from 0.03
    min_confidence: 0.60       # Lowered from 0.70
    min_data_points: 60
    require_rsi_momentum: false # Disabled for more signals

  # EURUSD Settings (H1) - High win rate - AGGRESSIVE
  EURUSD:
    timeframe: "H1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 38      # Widened from 32
    rsi_sell_threshold: 62     # Widened from 68
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 18                # Lowered from 20
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.0002            # Lowered
    min_ema_distance: 0.0001   # Lowered
    min_confidence: 0.60       # Lowered from 0.70
    min_data_points: 60
    require_rsi_momentum: false # Disabled for more signals

  # AUDUSD Settings (M5) - AGGRESSIVE
  AUDUSD:
    timeframe: "M5"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 38      # Widened from 32
    rsi_sell_threshold: 62     # Widened from 68
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 18                # Lowered from 20
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.0002            # Lowered
    min_ema_distance: 0.0001   # Lowered
    min_confidence: 0.60       # Lowered from 0.72
    min_data_points: 60
    require_rsi_momentum: false # Disabled for more signals

  # GBPUSD Settings (H1) - High volatility pair
  GBPUSD:
    timeframe: "H1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 32
    rsi_sell_threshold: 68
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 22
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.0004
    min_ema_distance: 0.0003
    min_confidence: 0.70
    min_data_points: 60
    require_rsi_momentum: true

  # USDCAD Settings (H1) - Oil correlated
  USDCAD:
    timeframe: "H1"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 32
    rsi_sell_threshold: 68
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 20
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.0003
    min_ema_distance: 0.0002
    min_confidence: 0.70
    min_data_points: 60
    require_rsi_momentum: true

  # NZDUSD Settings (M5) - AGGRESSIVE
  NZDUSD:
    timeframe: "M5"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 38      # Widened from 32
    rsi_sell_threshold: 62     # Widened from 68
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 18                # Lowered from 22
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.0002            # Lowered
    min_ema_distance: 0.0001   # Lowered
    min_confidence: 0.60       # Lowered from 0.72
    min_data_points: 60
    require_rsi_momentum: false # Disabled for more signals

  # EURJPY Settings (M5) - JPY cross - AGGRESSIVE
  EURJPY:
    timeframe: "M5"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 38      # Widened for more signals
    rsi_sell_threshold: 62     # Widened for more signals
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 18                # Lowered for more signals
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.04              # Adjusted for M5 JPY
    min_ema_distance: 0.03     # Adjusted for M5 JPY
    min_confidence: 0.60       # Lowered for more signals
    min_data_points: 60
    require_rsi_momentum: false # Disabled for more signals

  # GBPJPY Settings (M5) - Most volatile JPY cross - AGGRESSIVE
  GBPJPY:
    timeframe: "M5"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 38      # Widened for more signals
    rsi_sell_threshold: 62     # Widened for more signals
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 18                # Lowered for more signals
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.06              # Adjusted for M5 GBPJPY volatility
    min_ema_distance: 0.04     # Adjusted for M5 GBPJPY
    min_confidence: 0.60       # Lowered for more signals
    min_data_points: 60
    require_rsi_momentum: false # Disabled for more signals

  # Default/Fallback settings
  trend_pullback:
    timeframe: "M5"
    ema_period: 50
    rsi_period: 14
    rsi_buy_threshold: 32
    rsi_sell_threshold: 68
    use_rsi_exit: false
    atr_period: 14
    adx_period: 14
    min_adx: 20
    risk_reward: 2.0
    sl_atr_multiplier: 1.5
    min_atr: 0.0003
    min_ema_distance: 0.0002
    min_confidence: 0.70
    min_data_points: 60
    require_rsi_momentum: true

# Backtesting
backtest:
  start_date: "2024-01-01"
  end_date: "2025-11-20"
  initial_balance: 10000
  commission: 0.00007

# Logging
logging:
  level: "INFO"
  log_to_file: true
  log_file: "logs/multi_pair_bot.log"
  log_trades: true
  trade_log_file: "logs/multi_pair_trades.log"

# Bot Behavior
bot:
  scan_interval: 30  # Faster scanning for multi-pair
  heartbeat_interval: 300
  auto_restart: true
  max_reconnect_attempts: 10

# Database
database:
  enabled: true
  connection_string: "mongodb://localhost:27017"
  database_name: "multi_pair_bot"

# MULTI-PAIR STRATEGY SUMMARY (8 PAIRS):
# ======================================
# PROP FIRM SETTINGS:
# - Max Daily Drawdown: 4% (limit: 5%)
# - Max Total Drawdown: 8% (limit: 10%)
# - Risk per trade: 0.5%
#
# PAIRS:
# - USDJPY (M5): Best returns +15.93%
# - EURUSD (H1): High win rate 71.4%
# - AUDUSD (M5): Stable performer
# - GBPUSD (H1): High volatility major
# - USDCAD (H1): Oil correlated
# - NZDUSD (M5): Commodity currency
# - EURJPY (M5): JPY cross
# - GBPJPY (M5): Most volatile cross
#
# Expected Combined Performance:
# - More trade opportunities across 8 pairs
# - Diversified risk across currencies
# - Mix of M5 and H1 timeframes
